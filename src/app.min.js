$(document).ready(function(){function s(){$("div#chat-list").css("display","none"),$("div#chat").css("display","block"),$("div#chat div#chat-input input").focus()}function e(s){"down"==s&&a<items.length&&(a++,$("ul[tabindex="+a+"]").focus()),"up"==s&&a>0&&(a--,$("ul[tabindex="+a+"]").focus())}function i(s){$("div#chat").is(":visible")&&("down"==s&&$("div#chat-messages").scrollTop(n+=10),"up"==s&&$("div#chat-messages").scrollTop(n-=10))}function t(){$("div#chat").is(":visible")&&($("div#chat-list").css("display","block"),$("div#chat").css("display","none"),$(items[0]).focus())}function c(c){switch(c.key){case"Enter":s();break;case"ArrowDown":e("down");break;case"ArrowUp":e("up");break;case"SoftLeft":i("down");break;case"SoftRight":i("up");break;case"Backspace":c.preventDefault(),t(),$("div#chat-list").is(":visible");break;case"2":i("down");break;case"1":i("up")}}setTabindex("div#chat-list","ul.user-item"),$(items[0]).focus();let a=$(":focus").attr("tabindex"),n=0;document.addEventListener("keydown",c)});