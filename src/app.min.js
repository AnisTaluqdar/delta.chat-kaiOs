$(document).ready(function(){function t(){$("div#chat-list").css("display","none"),$("div#chat").css("display","block"),$("div#chat div#chat-input textarea").focus(),$("div#chat-messages").scrollTop(5e3)}function e(t){"down"==t&&u<items.length&&(u++,$("ul[tabindex="+u+"]").focus()),"up"==t&&u>0&&(u--,$("ul[tabindex="+u+"]").focus()),"right"==t&&u<2&&(u++,$("div[tabindex="+u+"]").focus()),"left"==t&&u>0&&(u--,$("div[tabindex="+u+"]").focus())}function i(t){$("div#chat").is(":visible")&&("down"==t&&$("div#chat-messages").scrollTop(r+=10),"up"==t&&$("div#chat-messages").scrollTop(r-=10))}function s(){$("div#chat").is(":visible")&&($("div#chat-list").css("display","block"),$("div#chat").css("display","none"),$(items[0]).focus())}function c(t){"show"==t&&($("div#chat div#chat-attachments").css("display","block"),$("div#chat div#chat-attachments div.inner div:first-child").focus()),"hidde"==t&&$("div#chat div#chat-attachments").css("display","none")}function a(){c("show"),clearTimeout(o)}function n(c){switch(c.key){case"Enter":t(),o=setTimeout(a,2e3);break;case"ArrowDown":e("down");break;case"ArrowUp":e("up");break;case"ArrowLeft":e("left");break;case"ArrowRight":e("right");break;case"SoftLeft":i("down");break;case"SoftRight":i("up");break;case"Backspace":c.preventDefault(),s(),$("div#chat-list").is(":visible");break;case"2":i("down");break;case"1":i("up")}}function d(t){switch(t.key){case"Enter":clearTimeout(o)}}setTabindex("div#chat-list","ul.user-item"),$(items[0]).focus();let o,u=$(":focus").attr("tabindex"),r=0;document.addEventListener("keydown",n),document.addEventListener("keyup",d)});